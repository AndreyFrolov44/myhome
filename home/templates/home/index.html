{% extends 'home/base.html' %}
{% load static %}

{% block content %}
	{% if slider_objects %}
		<div class="home">
			<div class="home_slider_container">
				 <div class="owl-carousel owl-theme home_slider">
					 {% for slider_object in slider_objects %}
						<div class="slide">
							<div class="background_image" style="background-image:url({{slider_object.image.url}})"></div>
							<div class="home_container">
								<div class="container">
									<div class="row">
										<div class="col">
											<div class="home_content">
												<div class="home_title"><h1><a href="{{slider_object.get_absolute_url}}">{{slider_object.address}}</a></h1></div>
												<div class="home_price_tag script_price">$ {{slider_object.price}}</div>
											</div>
										</div>
									</div>
								</div>
							</div>
					    </div>
					 {% endfor %}
				 </div>
				 <div class="home_slider_nav"><i class="fa fa-angle-right" aria-hidden="true"></i></div>
			</div>
		</div>
	{% endif %}


	{% if featured_properties %}
	<div class="featured">
		<div class="container">
			<div class="row">
				<div class="col">
					<div class="section_title_container text-center">
						<div class="section_subtitle">the best deals</div>
						<div class="section_title"><h1>Featured Properties</h1></div>
					</div>
				</div>
			</div>
			<div class="row featured_row">
				{% for featured_property in featured_properties %}
					<div class="col-lg-4">
						<div class="listing">
							<div class="listing_image">
								<div class="listing_image_container">
									<img src="{{featured_property.image.url}}" alt="">
								</div>
								<div class="tags d-flex flex-row align-items-start justify-content-start flex-wrap">
									<div class="tag tag_house"><a href="{{featured_property.get_absolute_url}}">{{featured_property.type}}</a></div>
									<div class="tag tag_{% if featured_property.rent_or_sale == 'For sale' %}sale{% else %}rent{% endif %}"><a href="{{featured_property.get_absolute_url}}">{{featured_property.rent_or_sale}}</a></div>
								</div>
								<div class="tag_price listing_price script_price">$ {{featured_property.price}}</div>
							</div>
							<div class="listing_content">
								<div class="prop_location listing_location d-flex flex-row align-items-start justify-content-start">
									<img src="{% static 'images/icon_1.png' %}" alt="">
									<a href="{{featured_property.get_absolute_url}}">{{featured_property.address}}</a>
								</div>
								<div class="listing_info">
									<ul class="d-flex flex-row align-items-center justify-content-start flex-wrap">
										<li class="property_area d-flex flex-row align-items-center justify-content-start">
											<img src="{% static 'images/icon_2.png' %}" alt="">
											<span>{{featured_property.sq_ft}} sq ft</span>
										</li>
										{% if featured_property.baths %}
											<li class="d-flex flex-row align-items-center justify-content-start">
												<img src="{% static 'images/icon_3.png' %}" alt="">
												<span>{{featured_property.baths}}</span>
											</li>
										{% endif %}
										{% if featured_property.beds %}
											<li class="d-flex flex-row align-items-center justify-content-start">
												<img src="{% static 'images/icon_4.png' %}" alt="">
												<span>{{featured_property.beds}}</span>
											</li>
										{% endif %}
										{% if featured_property.garages %}
											<li class="d-flex flex-row align-items-center justify-content-start">
												<img src="{% static 'images/icon_5.png' %}" alt="">
												<span>{{featured_property.garages}}</span>
											</li>
										{% endif %}
									</ul>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
	{% endif %}

	{% if hot_deal %}
		<div class="hot">
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="section_title_container text-center">
							<div class="section_subtitle">the best deals</div>
							<div class="section_title"><h1>Today's Hot Deal</h1></div>
						</div>
					</div>
				</div>
				<div class="row hot_row row-eq-height">

					<div class="col-lg-6">
						<div class="hot_image">
							<div class="background_image" style="background-image:url({{hot_deal.image.url}})"></div>
							<div class="tags d-flex flex-row align-items-start justify-content-start flex-wrap">
								<div class="tag tag_house"><a href="{{hot_deal.get_absolute_url}}">{{hot_deal.type}}</a></div>
								<div class="tag tag_{% if hot_deal.rent_or_sale == 'For sale' %}sale{% else %}rent{% endif %}"><a href="{{hot_deal.get_absolute_url}}">{{hot_deal.rent_or_sale}}</a></div>
							</div>
						</div>
					</div>

					<div class="col-lg-6">
						<div class="hot_content">
							<div class="hot_deal">
								<div class="tag_price script_price">$ {{hot_deal.price}}</div>
								<div class="hot_title"><a href="{{hot_deal.get_absolute_url}}">{{hot_deal.title}}</a></div>
								<div class="prop_location d-flex flex-row align-items-start justify-content-start">
									<img src="{% static 'images/icon_1.png' %}" alt="">
									<span>{{hot_deal.address}}</span>
								</div>
								<div class="prop_text">
									<p>{{hot_deal.description}}</p>
								</div>
								<div class="prop_agent d-flex flex-row align-items-center justify-content-start">
									<div class="prop_agent_image"><img src="{% static 'images/agent_1.jpg' %}" alt=""></div>
									<div class="prop_agent_name"><a href="{% static '#">{{hot_deal.author}},</a> Agent</div>
								</div>
							</div>
							<div class="prop_info">
								<ul class="d-flex flex-row align-items-center justify-content-start flex-wrap">
									<li class="d-flex flex-row align-items-center justify-content-start">
										<img src="{% static 'images/icon_2_large.png' %}" alt="">
										<div>
											<div>{{hot_deal.sq_ft}}</div>
											<div>sq ft</div>
										</div>
									</li>
									{% if hot_deal.baths %}
										<li class="d-flex flex-row align-items-center justify-content-start">
											<img src="{% static 'images/icon_3_large.png' %}" alt="">
											<div>
												<div>{{hot_deal.baths}}</div>
												<div>baths</div>
											</div>
										</li>
									{% endif %}
									{% if hot_deal.beds %}
										<li class="d-flex flex-row align-items-center justify-content-start">
											<img src="{% static 'images/icon_4_large.png' %}" alt="">
											<div>
												<div>{{hot_deal.beds}}</div>
												<div>beds</div>
											</div>
										</li>
									{% endif %}
									{% if hot_deal.garages %}
										<li class="d-flex flex-row align-items-center justify-content-start">
											<img src="{% static 'images/icon_5_large.png' %}" alt="">
											<div>
												<div>{{hot_deal.garages}}</div>
												<div>garages</div>
											</div>
										</li>
									{% endif %}
								</ul>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	{% endif %}

{% endblock content %}

{% block addscripts %}
	<script>
		var price = $('.script_price');
		$.each(price, function(index, value){
			$(this).text(prettify($(this).text()));
		})
		function prettify(num) {
            var n = num.toString();
            return n.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + ' ');
        }
	</script>
{% endblock addscripts %}